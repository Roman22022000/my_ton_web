<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Garbage Drop</title>

<style>
body{
    margin:0;
    overflow:hidden;
    background:#111;
    font-family:Arial, sans-serif;
    color:white;
}

#bag{
    position:absolute;
    bottom:20px;
    width:220px;
    cursor:pointer;
    transition:transform 0.3s ease;
}

#bag:hover{
    transform:scale(1.05);
}

#menuPanel{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:360px;
    background:#1a1a1a;
    border:2px solid #444;
    border-radius:12px;
    padding:20px;
    display:none;
    box-shadow:0 0 30px rgba(0,0,0,0.8);
}

#menuPanel h2{
    margin-top:0;
    text-align:center;
}

.item{
    display:flex;
    align-items:center;
    margin:12px 0;
    background:#222;
    padding:8px;
    border-radius:8px;
}

.item img{
    width:50px;
    height:50px;
    object-fit:contain;
    margin-right:12px;
}

.item span{
    font-size:16px;
}
</style>
</head>
<body>

<img id="bag" src="bag.png">

<div id="menuPanel">
    <h2>Содержимое пакета</h2>
    <div id="itemsList"></div>
</div>

<script>

const bag = document.getElementById("bag");
const menuPanel = document.getElementById("menuPanel");
const itemsList = document.getElementById("itemsList");

let state = "bag";

const trashItems = [
    { name:"Зубная щётка", file:"trash/zub.png" },
    { name:"Шапочка для ванны", file:"trash/Vanna.png" },
    { name:"Локон волос", file:"trash/Lokon.png" },
    { name:"Жвачка", file:"trash/chavka.png" },
    { name:"Окурок", file:"trash/okyrok.png" },
    { name:"Чайный пакетик", file:"trash/Tea-paket.png" },
    { name:"Стрела купидона", file:"trash/Strela.png" },
    { name:"Деньги", file:"trash/Many.png" },
    { name:"Носок", file:"trash/Nosok.png" },
    { name:"Китайские палочки", file:"trash/Palochki.png" },
    { name:"Пыль", file:"trash/Pili.png" },
    { name:"Презерватив", file:"trash/Spermak.png" }
];

function randomSide(){
    bag.style.left = "";
    bag.style.right = "";

    if(Math.random() < 0.5){
        bag.style.left = "40px";
    } else {
        bag.style.right = "40px";
    }
}

function spawnBag(){
    state = "bag";
    bag.src = "bag.png";
    bag.style.display = "block";
    menuPanel.style.display = "none";
    randomSide();

    const nextTime = 10000 + Math.random()*5000;
    setTimeout(spawnBag, nextTime);
}

function getRandomItems(){
    const shuffled = [...trashItems]
        .sort(() => Math.random() - 0.5);

    const count = Math.floor(Math.random()*3) + 3;
    return shuffled.slice(0, count);
}

function showRandomItems(){
    itemsList.innerHTML = "";

    const selected = getRandomItems();

    selected.forEach(itemData => {
        const item = document.createElement("div");
        item.className = "item";

        item.innerHTML = `
            <img src="${itemData.file}" alt="${itemData.name}">
            <span>${itemData.name}</span>
        `;

        itemsList.appendChild(item);
    });

    menuPanel.style.display = "block";
}

bag.addEventListener("click", () => {

    if(state === "bag"){
        bag.src = "trash.png";
        state = "trash";
    }
    else if(state === "trash"){
        showRandomItems();
        bag.style.display = "none";
        state = "opened";
    }

});

spawnBag();

</script>

</body>
</html>
